<div class="panel panel-primary">
  <div class="panel-heading">
      Sign Up Form2!
  </div>

  <div class="panel-body">
    <form class="form-horizontal"
        novalidate
        (ngSubmit)="save()"
        [formGroup]="form2Group">
        <fieldset>
            <div class="form-group"
                [ngClass]="{'has-error': (form2Group.get('firstName').touched || 
                form2Group.get('firstName').dirty) &&
                !form2Group.get('firstName').valid }">
                <label class="col-md-2 control-label" for="firstNameId">First Name</label>
                <div class="col-md-8">
                    <input class="form-control" 
                            id="firstNameId" 
                            type="text" 
                            placeholder="First Name (required)"
                            formControlName="firstName" />
                            <span class="help-block" *ngIf="(form2Group.get('firstName').touched || 
                                        form2Group.get('firstName').dirty) && 
                                        form2Group.get('firstName').errors">
                                <span *ngIf="form2Group.get('firstName').errors.required">
                                  Please enter your first name.
                                </span>
                                <span *ngIf="form2Group.get('firstName').errors.minlength">
                                  The first name must be longer than 3 characters.
                                </span>
                            </span>
                </div>
            </div>

            <div class="form-group"
                [ngClass]="{'has-error': !form2Group.get('phone').valid }">
                <label class="col-md-2 control-label" 
                    for="phoneId">Phone</label>

                  <div class="col-md-8">
                      <input class="form-control" 
                            id="phoneId" 
                            type="tel" 
                            placeholder="Phone" 
                            formControlName = "phone" />
                      <span class="help-block" *ngIf="form2Group.get('phone').errors">
                          <span *ngIf="form2Group.get('phone').errors.required">
                              Please enter your phone number.
                          </span>
                      </span>
                  </div>
            </div>
        
            <div class="form-group" >
                <label class="col-md-2 control-label">Send Notifications</label>
                <div class="col-md-8">
                        <label class="radio-inline">
                            <input type="radio" 
                                  value="email" 
                                  formControlName = "notification">
                                  Email
                                </label>
                        <label class="radio-inline">
                            <input type="radio" 
                                  value="text" 
                                  formControlName = "notification">
                                  Text
                                </label>
                </div>
            </div>
            
            <div class="form-group"
                [ngClass]="{'has-error': (form2Group.get('rating').touched || 
                                          form2Group.get('rating').dirty) && 
                                          !form2Group.get('rating').valid }">
                <label class="col-md-2 control-label" 
                    for="ratingId">Rating</label>

                <div class="col-md-8">
                    <input class="form-control" 
                          id="ratingId" 
                          type="number" 
                          formControlName = "rating" />
                    <span class="help-block" *ngIf="(form2Group.get('rating').touched 
                                                    || form2Group.get('rating').dirty) && 
                                                    form2Group.get('rating').errors">
                        <span *ngIf="form2Group.get('rating').errors.range">
                            Please rate your experience from 1 to 5.
                        </span>
                  </span>
                </div>
            </div>            

            <div class="form-group">
              <div class="col-md-offset-1 col-md-8 checkbox" >
                  <label>
                      <input id="sendCatalogId"
                             type="checkbox"
                             formControlName = "sendCatalog" >
                      Send me your catalog
                  </label>
              </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="phoneId">Select Box</label>
                  <div class="col-md-8">
                    <select 
                        formControlName="dept" 
                        (change)="onChangeDept()">
                            <option *ngFor="let x of departments" [ngValue]="x.abbrev">
                            {{ x.name }}
                            </option>
                    </select>
                  </div>
            </div>

            <div class="form-group">
                <div class="col-md-4 col-md-offset-2">
                      <span>
                        <button class="btn btn-primary"
                                type="submit"
                                [disabled]="!form2Group.valid">
                            Submit
                        </button>
                      </span>                        
                      <span>
                        <button  class="btn btn-primary"
                          type="button"
                          (click)="populateTestData()">
                          Test Data
                        </button>
                    </span>
                </div>
            </div>     
          </fieldset>
    </form>
  </div>

  <div class="panel-footer">
    <br>Attributes:
    <br>Dirty:  {{form2Group.dirty}}
    <br>Pristine:  {{form2Group.pristine}}
    <br>Touched:  {{form2Group.touched}}
    <br>Valid:  {{form2Group.valid}}        
    <br>Values: {{form2Group.value | json}}
    <br>firstName: {{form2Group.get('firstName').value}}
    <br>firstName: {{form2Group.controls.firstName.value}}

  </div>
</div>